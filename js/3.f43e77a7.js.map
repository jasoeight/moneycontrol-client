{"version":3,"sources":["webpack:///./src/components/users/Form.vue?747d","webpack:///src/components/users/Form.vue","webpack:///./src/components/users/Form.vue?d016","webpack:///./src/components/users/Form.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","model","value","callback","$$v","valid","expression","attrs","label","rules","name","$set","email","append-icon","showPassword","password","type","counter","on","click:append","$event","color","slot","_v","click","onCancel","onSubmit","staticRenderFns","Formvue_type_script_lang_js","props","Object","required","data","v","length","pattern","test","getPasswordRules","methods","objectSpread","users","isEmpty_default","push","$emit","_this","$refs","form","validate","saveUser","then","showSuccessMsg","catch","showErrorMsg","prepare","loading","prepareNew","all","watch","created","notifications","vue_notifications_es5_default","a","types","success","title","message","error","users_Formvue_type_script_lang_js","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/3.f43e77a7.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-card-text',[_c('v-form',{ref:\"form\",model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-text-field',{attrs:{\"label\":\"name\",\"rules\":_vm.rules.name},model:{value:(_vm.value.name),callback:function ($$v) {_vm.$set(_vm.value, \"name\", $$v)},expression:\"value.name\"}}),_c('v-text-field',{attrs:{\"rules\":_vm.rules.email,\"label\":\"Email\"},model:{value:(_vm.value.email),callback:function ($$v) {_vm.$set(_vm.value, \"email\", $$v)},expression:\"value.email\"}}),_c('v-text-field',{attrs:{\"append-icon\":_vm.showPassword ? 'visibility_off' : 'visibility',\"rules\":_vm.rules.password,\"type\":_vm.showPassword ? 'text' : 'password',\"label\":\"Password\",\"counter\":\"\"},on:{\"click:append\":function($event){_vm.showPassword = !_vm.showPassword}},model:{value:(_vm.value.password),callback:function ($$v) {_vm.$set(_vm.value, \"password\", $$v)},expression:\"value.password\"}}),_c('v-checkbox',{attrs:{\"color\":\"green\"},model:{value:(_vm.value.all),callback:function ($$v) {_vm.$set(_vm.value, \"all\", $$v)},expression:\"value.all\"}},[_c('div',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\"All\")])]),_c('v-btn',{on:{\"click\":_vm.onCancel}},[_vm._v(\"Cancel\")]),_c('v-btn',{attrs:{\"color\":\"success\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"Submit\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-card>\r\n        <v-card-text>\r\n            <v-form\r\n                ref=\"form\"\r\n                v-model=\"valid\"\r\n            >\r\n                <v-text-field\r\n                    v-model=\"value.name\"\r\n                    label=\"name\"\r\n                    :rules=\"rules.name\"\r\n                />\r\n                <v-text-field\r\n                    v-model=\"value.email\"\r\n                    :rules=\"rules.email\"\r\n                    label=\"Email\"\r\n                />\r\n                <v-text-field\r\n                    v-model=\"value.password\"\r\n                    :append-icon=\"showPassword ? 'visibility_off' : 'visibility'\"\r\n                    :rules=\"rules.password\"\r\n                    :type=\"showPassword ? 'text' : 'password'\"\r\n                    label=\"Password\"\r\n                    counter\r\n                    @click:append=\"showPassword = !showPassword\"\r\n                />\r\n                <v-checkbox\r\n                    v-model=\"value.all\"\r\n                    color=\"green\"\r\n                >\r\n                    <div slot=\"label\">All</div>\r\n                </v-checkbox>\r\n                <v-btn @click=\"onCancel\">Cancel</v-btn>\r\n                <v-btn color=\"success\" @click=\"onSubmit\">Submit</v-btn>\r\n            </v-form>\r\n        </v-card-text>\r\n    </v-card>\r\n</template>\r\n\r\n<script>\r\nimport VueNotifications from 'vue-notifications';\r\nimport { usersMethods } from '@/store/helpers/users';\r\nimport _isEmpty from 'lodash/isEmpty';\r\nexport default {\r\n    props: {\r\n        value: {\r\n            type: Object,\r\n            required: true\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            valid: true,\r\n            showPassword: false,\r\n            rules: {\r\n                name: [\r\n                    v => !!v || 'Name is required',\r\n                    v => v && v.length >= 5 || 'Min 5 characters'\r\n                ],\r\n                email: [\r\n                    v => !!v || 'Email is required',\r\n                    v => {\r\n                        const pattern = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n                        return pattern.test(v) || 'Invalid email.'\r\n                    }\r\n                ],\r\n                password: this.getPasswordRules()\r\n            }\r\n        };\r\n    },\r\n    methods: {\r\n        ...usersMethods,\r\n        getPasswordRules() {\r\n            let rules = [];\r\n            if (_isEmpty(this.value)) {\r\n                rules.push(v => !!v || 'Password is required');\r\n                rules.push(v => v && v.length >= 8 || 'Min 8 characters');\r\n            } else {\r\n                rules.push(v => {\r\n                    const length = v.length;\r\n                    if (length === 0 || length >= 8) {\r\n                        return true;\r\n                    }\r\n                    return 'Min 8 characters';\r\n                });\r\n            }\r\n\r\n            return rules;\r\n        },\r\n        onCancel() {\r\n            this.$emit('cancel');\r\n        },\r\n        onSubmit() {\r\n            if (!this.$refs.form.validate()) {\r\n                return;\r\n            }\r\n\r\n            this.saveUser(this.value)\r\n                .then(() => {\r\n                    this.$emit('stored');\r\n                    this.showSuccessMsg();\r\n                })\r\n                .catch(this.showErrorMsg);\r\n        },\r\n        prepare() {\r\n            this.loading = true;\r\n            this.prepareNew();\r\n        },\r\n        prepareNew() {\r\n            if (!_isEmpty(this.value)) {\r\n                return;\r\n            }\r\n\r\n            this.$emit('input', {\r\n                name: '',\r\n                email: '',\r\n                password: '',\r\n                all: false\r\n            });\r\n        }\r\n    },\r\n    watch: {\r\n        value: 'prepareNew'\r\n    },\r\n    created() {\r\n        this.prepare();\r\n    },\r\n    notifications: {\r\n        showSuccessMsg: {\r\n            type: VueNotifications.types.success,\r\n            title: '',\r\n            message: 'User successfully saved.'\r\n        },\r\n        showErrorMsg: {\r\n            type: VueNotifications.types.error,\r\n            title: '',\r\n            message: 'Could not save user.'\r\n        }\r\n    }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Form.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Form.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Form.vue?vue&type=template&id=75f012ef\"\nimport script from \"./Form.vue?vue&type=script&lang=js\"\nexport * from \"./Form.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}